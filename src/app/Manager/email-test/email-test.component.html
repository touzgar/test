<!-- email-test.component.html -->

<div class="email-form-container">
  <h2>Email Test Form</h2>

  <form (ngSubmit)="sendEmail()">
    <div class="form-group">
      <label for="managerId">Manager ID:</label>
      <input type="number" id="managerId" [(ngModel)]="emailRequest.managerId" name="managerId" required>
    </div>

    <div class="form-group">
      <label for="eventId">Event ID:</label>
      <input type="number" id="eventId" [(ngModel)]="emailRequest.eventId" name="eventId" required>
    </div>

    <div class="form-group">
      <label for="toEmails">To Emails:</label>
      <input autocomplete="off" type="email" id="toEmails" [(ngModel)]="emailRecipients" name="toEmails" required>
    </div>
    
    <div class="form-group">
      <label for="subject">Subject:</label>
      <input type="text" id="subject" [(ngModel)]="emailRequest.subject" name="subject" required>
    </div>

    <div class="form-group">
      <label for="body">Body:</label>
      <textarea readonly id="body" [(ngModel)]="emailRequest.body" name="body" required></textarea>
    </div>
    <!-- Add this div to display the error message -->
<div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

<!-- ... Your existing form ... -->

    <div class="form-group">
      <button type="submit">Send Email</button>
    </div>
  </form>
</div>
